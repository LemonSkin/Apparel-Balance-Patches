<?xml version="1.0" encoding="utf-8"?>
<Patch>

  <!--
    Force the new recipeMaker everywhere it matters:
    1) Patch the true base (GD_ApparelBase) so anything inheriting (unless it overrides) gets it.
    2) Patch any defs that *do* override recipeMaker (these ones do).
  -->

  <!-- === BASE: stamp the abstract base so inheritors get it by default === -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[@Name="GD_ApparelBase"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <!-- === OVERRIDERS: these defs have their own <recipeMaker>, so force them too === -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_lolita"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_mini"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_ribondress"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeMaker>
          <recipeUsers Inherit="False">
            <li>Ferny_VanityTable</li>
          </recipeUsers>
          <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
        </recipeMaker>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_ribonhat"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_maid"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_hairband"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_neat"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_nuns"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="Apparel_nunsveil"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>




</Patch>
