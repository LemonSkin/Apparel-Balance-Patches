<?xml version="1.0" encoding="utf-8"?>
<Patch>

  <!--
    One shared "new recipemaker" value, repeated via Replace ops.
    This forces the recipeMaker even if the ThingDef previously inherited it.
  -->

  <!-- === HATS: patch the parent-ish def (h_hat_weddingdress) so children inheriting from ParentName="H_Hat" get it === -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="h_hat_weddingdress"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <!-- === APPAREL BASE: patch the abstract base so children inheriting get it === -->
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[@Name="SmallBread_ApparelCustomBase"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <!-- === CHILD APPAREL THAT OVERRIDES recipeMaker: must be forced individually === -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_First"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Second"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Third"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Forth"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Fifth"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Sixth"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_seven"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Zoombie"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Ghost"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Weddingdress"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Stiletto_First"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Stiletto_Second"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Stiletto_Third"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="H_Cloth_Stiletto_four"]/recipeMaker</xpath>
    <value>
      <recipeMaker>
        <recipeUsers Inherit="False">
          <li>Ferny_VanityTable</li>
        </recipeUsers>
        <researchPrerequisite Inherit="False">Ferny_VanityTable</researchPrerequisite>
      </recipeMaker>
    </value>
  </Operation>



</Patch>
